update-apt:
  command: sudo apt update && sudo apt upgrade -y
  packages:
apt:
  command: sudo apt install -y
  packages:
    # Libraries
    - software-properties-common gnupg2 less ufw ack-grep libfuse2
      apt-transport-https ca-certificates build-essential bison
      zlib1g-dev libyaml-dev libcurl4-openssl-dev libssl-dev
      libgdbm-dev libreadline-dev libffi-dev fuse make gcc libxml2-dev
      re2c libbz2-dev libjpeg-turbo8-dev libpng-dev
      libzip-dev libtidy-dev libxslt-dev automake libtool autoconf
      flex libkrb5-dev libonig-dev libsqlite3-dev snapd

    # Languages
    - ruby ruby-dev golang php php-mysql php-pdo python3 python3-pip python-dev
      python3-dev python-pip python3-neovim nodejs default-jre default-jdk

    # Tools
    - curl tmux git vim zsh rdoc
      openssh-client openssh-server dconf-cli gnome-terminal
      pry rubygems fail2ban
      asciinema docker docker-compose mosh yarn
      silversearcher-ag virtualbox ripgrep ctags ranger i3 wicd

    # Databases
    - mysql-server sqlite3 postgresql

# Install versions php, and node
php:
  command: phpenv install --skip-existing
  packages: 7.3.8
node:
  command: asdf install
  packages: nodejs 11.15.0

neovim:
  command: curl -fLo ~/nvim https://github.com/neovim/neovim/releases/download/stable/nvim.appimage &&
  packages: sudo chmod u+x ~/nvim &&
    sudo ln -f -s ~/nvim /usr/bin/nvim &&
    sudo ln -f -s ~/nvim /usr/share/nvim

install_zsh_auto_suggestions:
  command: git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions >/dev/null 2>&1
  packages:
    "|| cd ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
    && git pull && cd -"

install_zsh_syntax_highlighting:
  command: git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting >/dev/null 2>&1
  packages:
    "|| cd ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
    && git pull && cd -"

install_tmux_plugin_manager:
  command: git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm >/dev/null 2>&1
  packages: "|| cd $HOME/.tmux/plugins/tpm && git pull && cd -"
